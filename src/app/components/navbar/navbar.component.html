<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <img class="logo" src="/assets/images/banner.png" alt="">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
        <!-- Default tabs outside ngSwitch -->
        <ul class="navbar-nav">
          <li class="nav-item" [class.active]="isActive('/')">
            <a class="nav-link" routerLink="/">Home</a>
          </li>
          <!--User Nav-->
          <li *ngIf="authService.isAuthenticated() && authService.role === 'user'" class="nav-item user-tab"
              [class.active]="isActive('/forms')" (click)="setActive('/forms')">
              <a class="nav-link" routerLink="/forms">Forms</a>
          </li>
          <li *ngIf="authService.isAuthenticated() && authService.role === 'user'" class="nav-item user-tab"
              [class.active]="isActive('/history')" (click)="setActive('/history')">
              <a class="nav-link" routerLink="/history">History</a>
          </li>
          <!--Admin Nav-->
          <li *ngIf="authService.isAuthenticated() && authService.role === 'admin'" class="nav-item admin-tab"
          [class.active]="isActive('/forms')" (click)="setActive('/forms')">
          <a class="nav-link" routerLink="/forms">Forms</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'admin'" class="nav-item admin-tab"
          [class.active]="isActive('/history')" (click)="setActive('/history')">
          <a class="nav-link" routerLink="/history">History</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'admin'" class="nav-item admin-tab"
          [class.active]="isActive('/dashboard')" (click)="setActive('/dashboard')">
          <a class="nav-link" routerLink="/dashboard">Dashboard</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'admin'" class="nav-item admin-tab"
          [class.active]="isActive('/requests')" (click)="setActive('/requests')">
          <a class="nav-link" routerLink="/requests">Requests</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'admin'" class="nav-item admin-tab"
        [class.active]="isActive('/employee-accounts')" (click)="setActive('/employee-accounts')">
          <a class="nav-link" routerLink="/employee-accounts">E.Accounts</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'admin'" class="nav-item admin-tab"
          [class.active]="isActive('/user-accounts')" (click)="setActive('/user-accounts')">
          <a class="nav-link" routerLink="/user-accounts">U.Accounts</a>
        </li>

      <!--Superadmin Nav-->
        <li *ngIf="authService.isAuthenticated() && authService.role === 'superadmin'" class="nav-item superadmin-tab"
          [class.active]="isActive('/forms')" (click)="setActive('/forms')">
          <a class="nav-link" routerLink="/forms">Forms</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'superadmin'" class="nav-item superadmin-tab"
          [class.active]="isActive('/history')" (click)="setActive('/history')">
          <a class="nav-link" routerLink="/history">History</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'superadmin'" class="nav-item superadmin-tab"
          [class.active]="isActive('/dashboard')" (click)="setActive('/fdashboard')">
          <a class="nav-link" routerLink="/dashboard">Dashboard</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'superadmin'" class="nav-item superadmin-tab"
          [class.active]="isActive('/requests')" (click)="setActive('/requests')">
          <a class="nav-link" routerLink="/requests">Requests</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'superadmin'" class="nav-item superadmin-tab"
        [class.active]="isActive('/employee-accounts')" (click)="setActive('/employee-accounts')">
          <a class="nav-link" routerLink="/employee-accounts">E.Accounts</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'superadmin'" class="nav-item superadmin-tab"
          [class.active]="isActive('/user-accounts')" (click)="setActive('/user-accounts')">
          <a class="nav-link" routerLink="/user-accounts">U.Accounts</a>
        </li>
        <li *ngIf="authService.isAuthenticated() && authService.role === 'superadmin'" class="nav-item superadmin-tab"
          [class.active]="isActive('/audit-trail')" (click)="setActive('/audit-trail')">
          <a class="nav-link" routerLink="/audit-trail">Audit Trail</a>
        </li>
        <li class="nav-item" [class.active]="isActive('/about')">
          <a class="nav-link" routerLink="/about">About Us</a>
        </li>
        </ul>
        
        <div class="d-flex">
        <div class="signin">
          <div class="col-10"></div>
          <button class="col-1" mat-raised-button color="primary" *ngIf="!authService.isAuthenticated()" (click)="openLoginModal()">
            Sign In
          </button>
          <div *ngIf="authService.isAuthenticated()">
            <div class="user" [ngClass]="{'active': panelVisible1}" (click)="togglePanel1()">
              <img *ngIf="profileImageURL; else tempUserIcon" [src]="profileImageURL" alt="Profile Image" />
              <ng-template #tempUserIcon>
                <img src="/assets/images/user_icon.png" alt="Temporary User Icon" />
              </ng-template>
            </div>
            <div class="notif" [ngClass]="{'active': panelVisible2}" (click)="togglePanel2()">
              <i class="fa-regular fa-bell fa-lg" ng-click="togglePanel2"></i>
            </div>
            <div class="panel1" ng-show="panelVisible1" *ngIf="panelVisible1">
              <button class="logout-button" (click)="logout()">Logout</button>
              <button class="editprof" routerLink="view-profile" (click)="closePanel1()">View Profile</button>
            </div>
            <div class="panel2" ng-show="panelVisible2" *ngIf="panelVisible2">
              <h4>Notifications</h4>
              <hr>
            </div>
          </div>
        </div>
      </div>
      </div>
    </div>
  </nav>
 